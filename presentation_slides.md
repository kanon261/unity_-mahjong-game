# 麻雀学習ゲーム - Unity開発プロジェクト

---

## スライド 1: タイトル

# 麻雀学習ゲーム
### Unityによる初心者向け麻雀アプリケーション

---

## スライド 2: プロジェクト概要

### 目的
- 麻雀初心者が効率的に打ち方を学べるゲーム
- AIによるリアルタイム推奨機能

### 主な機能
- 配牌・ツモ・打牌の基本フロー
- **向聴数（シャンテン数）の表示**
- **最適打牌のハイライト表示**
- アガリ判定

---

## スライド 3: システム構成図

```
┌─────────────────────────────────────────┐
│              Unity Scene                │
│  ┌───────────┐  ┌───────────────────┐  │
│  │    UI     │  │   GameController  │  │
│  │ (Canvas)  │←→│   (メイン制御)    │  │
│  └───────────┘  └─────────┬─────────┘  │
│                           │             │
│         ┌─────────────────┼─────────────┤
│         ↓                 ↓             │
│  ┌─────────────┐   ┌─────────────┐     │
│  │ TurnManager │   │   Player    │     │
│  │ (ターン管理)│   │ (手牌管理)  │     │
│  └─────────────┘   └─────────────┘     │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│           Core（ロジック層）            │
│  ┌─────────────┐   ┌───────────────┐   │
│  │    Tile     │   │ HandAnalyzer  │   │
│  │  (牌データ) │   │ (AI・分析)    │   │
│  └─────────────┘   └───────────────┘   │
└─────────────────────────────────────────┘
```

---

## スライド 4: アーキテクチャ設計

### 2層構造
| 層 | 役割 | Unity依存 |
|---|---|---|
| **Engine層** | UI制御・ゲーム進行 | あり |
| **Core層** | ロジック・AI | なし |

### メリット
- Core層は単体テスト可能
- ロジックの再利用性が高い
- Unity以外のプラットフォームにも移植可能

---

## スライド 5: ゲームフロー

```
開始
  ↓
配牌（13枚）
  ↓
┌─→ ツモ（14枚目を引く）
│     ↓
│   アガリ判定 → Yes → 勝利画面
│     ↓ No
│   AI推奨表示（黄色ハイライト）
│     ↓
│   打牌（1枚捨てる）
│     ↓
│   山牌チェック → 0枚 → 流局
│     ↓
└───←┘
```

---

## スライド 6: AI推奨システム

### アルゴリズム概要
**ルールベースAI**（機械学習ではない）

### 評価基準
1. **向聴数（シャンテン数）** - アガリまでの最短距離
2. **受け入れ枚数** - 有効牌の残り枚数

### 判定ロジック
```
各牌について評価:
  捨てた場合の向聴数を計算
  受け入れ枚数を計算

最適牌 = 向聴数が最小 かつ 受け入れ枚数が最大
```

---

## スライド 7: 向聴数計算

### 向聴数とは？
アガリまでに必要な有効牌の最小枚数

| 向聴数 | 状態 |
|---|---|
| 0 | テンパイ（あと1枚でアガリ）|
| 1 | イーシャンテン |
| 2 | リャンシャンテン |
| ... | ... |

### 計算方法
- 面子（3枚組）の数をカウント
- 対子（2枚組）の数をカウント
- `向聴数 = 8 - 2×面子数 - 対子数`

---

## スライド 8: 受け入れ枚数計算

### 受け入れとは？
手牌を進められる有効牌のこと

### 計算例
手牌: 1-2萬 → 受け入れ: 3萬（順子完成）

### 評価への活用
- 同じ向聴数なら受け入れが多い方が有利
- 山に残っている枚数も考慮

---

## スライド 9: 主要クラス解説

| クラス | 責務 |
|---|---|
| **GameController** | UI管理、ゲーム進行制御 |
| **HandAnalyzer** | 向聴数計算、AI推奨 |
| **TurnManager** | ターン制御 |
| **Player** | 手牌・捨て牌管理 |
| **Tile** | 牌データ（種類・数字）|
| **TileButton** | 牌のUI・ハイライト |

---

## スライド 10: 技術スタック

### 開発環境
- **Unity** 2022.x
- **C#** (.NET Standard 2.1)
- **TextMesh Pro** (日本語UI)

### 使用パターン
- MonoBehaviour（Unity標準）
- シングルトン（GameController）
- オブザーバー（ボタンイベント）

---

## スライド 11: 学習効果

### ユーザーが学べること
1. **牌効率** - どの牌を捨てるべきか
2. **向聴数の概念** - アガリまでの距離感
3. **受け入れの重要性** - 広い受けを作る

### AIハイライトの効果
- 初心者でも最適解を視覚的に確認
- 自分の判断と比較して学習

---

## スライド 12: 今後の展望

### 追加可能な機能
- 鳴き（ポン・チー・カン）
- 役判定・点数計算
- 対戦モード（4人打ち）
- 難易度調整

### 発展的なAI
- 機械学習による高度な判断
- 相手の捨て牌分析
- 防御（振り込み回避）

---

## スライド 13: まとめ

### 成果
- 麻雀の基本フローを実装
- AIによる打牌推奨システム
- 初心者向け学習機能

### 学んだこと
- Unityでのゲーム開発
- アルゴリズム設計（向聴数計算）
- ロジック層の分離設計

---

## スライド 14: デモ

### 実演内容
1. ゲーム開始・配牌
2. AI推奨の確認（黄色ハイライト）
3. 打牌・ツモの繰り返し
4. アガリまたは流局

---

# ご清聴ありがとうございました

